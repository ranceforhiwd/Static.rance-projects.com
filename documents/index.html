<html>
<head>
  <script>const handler = (e: ChangeEvent<HTMLInputElement>) => {
    const files = e?.target?.files;
  
    if (files && files.length > 0) {
      let extension = files[0].name.split(".").pop()
  
      if (extension != null) {
          let response = await fetch(`${serverURL}/upload_url`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ directory, extension, content_type: contentType })
           })
              
          let json = await response.json()
      
          let uploadResponse = await fetch(json.url, {
            method: "PUT",
            body: content
          })
          
          // handle completion, update state to display uploaded file, etc
      }
    }
  }</script>
</head>
  <body>
    <form>
      <input type="file" />
      <input type="submit" value="submit" />
    </form>
  </body>
</html>
